**模拟即时通信系统实现**

一、题目描述

基于社交的即时通信是腾*公司的主要业务，先后有QQ、微信、微博等服务，可能还将继续推出微商、微唱、微走、微笑等产品。这些软件既可以独立提供服务，又互相辉映关联。腾*公司希望对各系统进行整合形成统一的立体社交软件平台。现请完成该平台的设计并实现。要求如下：

1、用户基本信息：

号码ID，昵称，出生时间，T龄（号码申请时间）、所在地、好友列表和群列表等。

微博与QQ共享ID，微信采用独立ID，但是可以与QQ号码绑定对应。其他微X产品也分为这两种情况。

2、好友管理

（1）实现好友信息的添加、修改、删除、查询等功能。

（2）可以查询微X之间各自共同好友。如微信可以添加QQ推荐好友。

3、群管理

（1）设定每个微X功能已有1001、1002、1003、1004、1005、1006等群号。

（2）加入群、退出群、挨T、查询群成员等。

（3）不同微X之间群的理念不同，比如：QQ群可以申请加入，而微信群则只能推荐加入；QQ群允许设置临时讨论组（子群），微信群则不允许；QQ群有以群主为核心的管理员制度而微信群仅有群主为特权账号。

4、开通管理

用户可以选择自己开通该平台的N个微X服务。

5、登录管理

各微X之间只要有一个服务登录，则其它服务简单确认后视为自动登录。

6、功能展示要求（main函数）

（1）设计约定。开通服务情况、群成员信息和好友信息可以预先保存到文件中，在系统启动时将这些信息加载到内存中；

（2）一个服务登录后，本人开通的其它所有服务均进入开通状态。

（3）服务之间可以依据本人开通的任意另外一个服务的好友添加好友。

（4）展示一个服务当前群的特色功能；在群成员数据不受伤害的前提下，动态变换为其他类型群的管理特色。

（5）实现QQ的点对点的TCP通信的收发功能。(选做)提示：

   a）需要加载ws2_32.lib静态库，打开头文件winsock.h。

   b）百度IP地址、端口等概念；

c）百度socket编程，关注bind、listen、accept、connect、send、receive等函数用法。

二、技术层次要求及说明

1、基本层次。

  完成上述功能要求，所采用技术不限，比如采用纯面向过程思想实现；

2、支持对象层次。

  正确完成了类的切割，利用对象技术实现。

  （1）容器类主要包括：例如，微X成员管理。

  （2）其它主要类包括：例如，微X信息、群信息、好友信息。

3、抽象、封装层次

  采用了继承或者组合实现复用，对数据成员提供了必要的接口保护；

  （1）抽象出了基础类，并被其它功能复用；

  （2）如好友维护、群信息维护等操作均应该提供接口形式；

4、面向对象层次

  支持多态功能，支持依据设计原则的优化。

  好友管理、群管理等；

5、优化提高层次

  （1）提供简便菜单，以1、2等数字区分几类功能，并允许返回菜单；

（2）I/O操作支持。基本功能中，已有设定信息，在初始化时候可以固化在程序代码中，也可以存放在文件中，每次容器实例化时读入，析构时写回文件中，以实现断电保存；

  （3）可扩展性支持，需要考虑群、好友等与主要服务之间的关系；

  （4）灵活性支持。群的管理模式动态可变；

  （5）程序有必要的注释；

  （6）可以采用UML工具画出简单类图；

  （7）为防止不诚信行为，要求类的设计均以独立文件存在，且所有的类名称后面应有自己的姓名缩写，如张三设计的QQ信息类名称：TencentZhS。